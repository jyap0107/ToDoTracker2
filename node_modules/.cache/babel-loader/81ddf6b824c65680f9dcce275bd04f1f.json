{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\johnn\\\\cse316hw2\\\\todo_tracker_hw2\\\\src\\\\App.js\";\n// IMPORT ALL THE THINGS NEEDED FROM OTHER JAVASCRIPT SOURCE FILES\nimport React, { Component } from 'react';\nimport testData from './test/testData.json';\nimport jsTPS from './common/jsTPS'; // THESE ARE OUR REACT COMPONENTS\n\nimport Navbar from './components/Navbar';\nimport LeftSidebar from './components/LeftSidebar';\nimport Workspace from './components/Workspace';\nimport DeleteListConfirmation from './components/DeleteListConfirmation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n{\n  /*import ItemsListHeaderComponent from './components/ItemsListHeaderComponent'\r\n  import ItemsListComponent from './components/ItemsListComponent'\r\n  import ListsComponent from './components/ListsComponent'\r\n  */\n}\n\nclass App extends Component {\n  constructor(props) {\n    // ALWAYS DO THIS FIRST\n    super(props); // DISPLAY WHERE WE ARE\n\n    this.loadToDoList = toDoList => {\n      console.log(\"CLICKED\");\n      console.log(\"loading \" + toDoList); // MAKE SURE toDoList IS AT THE TOP OF THE STACK BY REMOVING THEN PREPENDING\n\n      const nextLists = this.state.toDoLists.filter(testList => testList.id !== toDoList.id);\n      nextLists.unshift(toDoList);\n      this.setState({\n        toDoLists: nextLists,\n        currentList: toDoList\n      });\n    };\n\n    this.addNewList = () => {\n      let newToDoListInList = [this.makeNewToDoList()];\n      let newToDoListsList = [...newToDoListInList, ...this.state.toDoLists];\n      let newToDoList = newToDoListInList[0]; // AND SET THE STATE, WHICH SHOULD FORCE A render\n\n      this.setState({\n        toDoLists: newToDoListsList,\n        currentList: newToDoList,\n        nextListId: this.state.nextListId + 1\n      }, this.afterToDoListsChangeComplete);\n    };\n\n    this.makeNewToDoList = () => {\n      console.log(this.state.nextListId);\n      let newToDoList = {\n        id: this.state.nextListId,\n        name: 'Untitled',\n        items: []\n      };\n      console.log(newToDoList);\n      return newToDoList;\n    };\n\n    this.addNewItemToList = () => {\n      console.log(\"ran??\");\n      let newItem = this.makeNewToDoListItem();\n      this.state.currentList.items.push(newItem);\n      this.setState({\n        currentList: this.state.currentList,\n        nextListItemId: this.state.nextListItemId + 1\n      });\n    };\n\n    this.deleteCurrentList = () => {\n      console.log(\"called\");\n      this.state.toDoLists.splice(0, 1);\n      this.setState({\n        toDoLists: this.state.toDoLists,\n        currentList: {\n          items: []\n        },\n        showModal: !this.state.showModal\n      });\n    };\n\n    this.moveItemUp = id => {\n      for (let i = 1; i < this.state.currentList.items.length; i++) {\n        if (id == this.state.currentList.items[i].id) {\n          let temp = this.state.currentList.items[i];\n          this.state.currentList.items[i] = this.state.currentList.items[i - 1];\n          this.state.currentList.items[i - 1] = temp;\n          break;\n        }\n      }\n\n      this.setState({\n        currentList: this.state.currentList\n      });\n    };\n\n    this.moveItemDown = id => {\n      for (let i = this.state.currentList.items.length - 2; i >= 0; i--) {\n        if (id == this.state.currentList.items[i].id) {\n          let temp = this.state.currentList.items[i];\n          this.state.currentList.items[i] = this.state.currentList.items[i + 1];\n          this.state.currentList.items[i + 1] = temp;\n          break;\n        }\n      }\n\n      this.setState({\n        currentList: this.state.currentList\n      });\n    };\n\n    this.deleteItem = id => {\n      let listFiltered = this.state.currentList.items.filter(item => item.id != id);\n      this.state.currentList.items = listFiltered;\n      this.setState({\n        currentList: this.state.currentList\n      });\n    };\n\n    this.swapToInput = (id, clickName) => {\n      console.log(\"Inputty\");\n      this.setState({\n        clickedOn: clickName,\n        clickedId: id\n      });\n    };\n\n    this.swapToDiv = (id, clickName) => {\n      this.setState({\n        clickedOn: clickName,\n        clickedId: id\n      });\n    };\n\n    this.swapToStatus = (id, clickName) => {\n      this.setState({\n        clickedOn: clickName,\n        clickedId: id\n      });\n    };\n\n    this.handleDescriptionChange = (value, id) => {\n      this.state.currentList.items.map(item => item.id == id ? item.description = value : item.description = item.description);\n    };\n\n    this.handleDueDateChange = (value, id) => {\n      this.state.currentList.items.map(item => item.id == id ? item.due_date = value : item.due_date = item.due_date);\n    };\n\n    this.handleStatusChange = (value, id) => {\n      this.state.currentList.items.map(item => item.id == id ? item.status = value : item.status = item.status);\n    };\n\n    this.afterToDoListsChangeComplete = () => {\n      console.log(\"App updated currentToDoList: \" + this.state.currentList); // WILL THIS WORK? @todo\n\n      let toDoListsString = JSON.stringify(this.state.toDoLists);\n      localStorage.setItem(\"recent_work\", toDoListsString);\n    };\n\n    this.toggleDeleteListConfirmation = () => {\n      console.log(this.state.currentList);\n\n      if (this.state.currentList.items.length != 0) {\n        this.setState({\n          showModal: !this.state.showModal\n        });\n      }\n    };\n\n    this.closeList = () => {\n      console.log(\"called\");\n      this.setState({\n        currentList: {\n          items: []\n        }\n      });\n    };\n\n    console.log(\"App constructor\"); // MAKE OUR TRANSACTION PROCESSING SYSTEM\n\n    this.tps = new jsTPS(); // CHECK TO SEE IF THERE IS DATA IN LOCAL STORAGE FOR THIS APP\n\n    let recentLists = localStorage.getItem(\"recentLists\");\n    console.log(\"recentLists: \" + recentLists);\n\n    if (!recentLists) {\n      recentLists = JSON.stringify(testData.toDoLists);\n      localStorage.setItem(\"toDoLists\", recentLists);\n    }\n\n    recentLists = JSON.parse(recentLists); // FIND OUT WHAT THE HIGHEST ID NUMBERS ARE FOR LISTS\n\n    let highListId = -1;\n    let highListItemId = -1;\n\n    for (let i = 0; i < recentLists.length; i++) {\n      let toDoList = recentLists[i];\n\n      if (toDoList.id > highListId) {\n        highListId = toDoList.id;\n      }\n\n      for (let j = 0; j < toDoList.items.length; j++) {\n        let toDoListItem = toDoList.items[j];\n        if (toDoListItem.id > highListItemId) highListItemId = toDoListItem.id;\n      }\n    }\n\n    ; // SETUP OUR APP STATE\n\n    this.state = {\n      toDoLists: recentLists,\n      currentList: {\n        items: []\n      },\n      nextListId: highListId + 1,\n      nextListItemId: highListItemId + 1,\n      useVerboseFeedback: true,\n      showModal: false,\n      clickedOn: \"\",\n      clickedId: -1\n    };\n  } // WILL LOAD THE SELECTED LIST\n\n\n  makeNewToDoListItem() {\n    console.log(\"ran?\");\n    console.log(this.highListItemId);\n    let newToDoListItem = {\n      description: \"No Description\",\n      dueDate: \"none\",\n      status: \"incomplete\",\n      id: this.state.nextListItemId\n    };\n    console.log(newToDoListItem);\n    return newToDoListItem;\n  }\n\n  render() {\n    let items = this.state.currentList.items;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"root\",\n      children: [/*#__PURE__*/_jsxDEV(DeleteListConfirmation, {\n        showModal: this.state.showModal,\n        closeModal: this.state.showModal,\n        deleteCurrentList: this.deleteCurrentList,\n        toggleDeleteListConfirmation: this.toggleDeleteListConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LeftSidebar, {\n        toDoLists: this.state.toDoLists,\n        loadToDoListCallback: this.loadToDoList,\n        addNewListCallback: this.addNewList,\n        currentList: this.state.currentList,\n        swapToInput: this.swapToInput,\n        clickedOn: this.state.clickedOn,\n        clickedId: this.state.clickedId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Workspace, {\n        toDoListItems: items,\n        toggleDeleteListConfirmation: this.toggleDeleteListConfirmation,\n        currentListActive: this.state.currentList.items.length > 0,\n        swapToInput: this.swapToInput,\n        swapToDiv: this.swapToDiv,\n        swapToStatus: this.swapToStatus,\n        clickedOn: this.state.clickedOn,\n        clickedId: this.state.clickedId,\n        handleDescriptionChange: this.handleDescriptionChange,\n        handleDueDateChange: this.handleDueDateChange,\n        handleStatusChange: this.handleStatusChange,\n        addNewItemToList: this.addNewItemToList,\n        moveItemUp: this.moveItemUp,\n        moveItemDown: this.moveItemDown,\n        deleteItem: this.deleteItem,\n        closeList: this.closeList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/johnn/cse316hw2/todo_tracker_hw2/src/App.js"],"names":["React","Component","testData","jsTPS","Navbar","LeftSidebar","Workspace","DeleteListConfirmation","App","constructor","props","loadToDoList","toDoList","console","log","nextLists","state","toDoLists","filter","testList","id","unshift","setState","currentList","addNewList","newToDoListInList","makeNewToDoList","newToDoListsList","newToDoList","nextListId","afterToDoListsChangeComplete","name","items","addNewItemToList","newItem","makeNewToDoListItem","push","nextListItemId","deleteCurrentList","splice","showModal","moveItemUp","i","length","temp","moveItemDown","deleteItem","listFiltered","item","swapToInput","clickName","clickedOn","clickedId","swapToDiv","swapToStatus","handleDescriptionChange","value","map","description","handleDueDateChange","due_date","handleStatusChange","status","toDoListsString","JSON","stringify","localStorage","setItem","toggleDeleteListConfirmation","closeList","tps","recentLists","getItem","parse","highListId","highListItemId","j","toDoListItem","useVerboseFeedback","newToDoListItem","dueDate","render"],"mappings":"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","sourcesContent":["// IMPORT ALL THE THINGS NEEDED FROM OTHER JAVASCRIPT SOURCE FILES\r\nimport React, { Component } from 'react';\r\nimport testData from './test/testData.json'\r\nimport jsTPS from './common/jsTPS'\r\n\r\n// THESE ARE OUR REACT COMPONENTS\r\nimport Navbar from './components/Navbar'\r\nimport LeftSidebar from './components/LeftSidebar'\r\nimport Workspace from './components/Workspace'\r\nimport DeleteListConfirmation from './components/DeleteListConfirmation'\r\n{/*import ItemsListHeaderComponent from './components/ItemsListHeaderComponent'\r\nimport ItemsListComponent from './components/ItemsListComponent'\r\nimport ListsComponent from './components/ListsComponent'\r\n*/}\r\nclass App extends Component {\r\n  constructor(props) {\r\n    // ALWAYS DO THIS FIRST\r\n    super(props);\r\n\r\n    // DISPLAY WHERE WE ARE\r\n    console.log(\"App constructor\");\r\n\r\n    // MAKE OUR TRANSACTION PROCESSING SYSTEM\r\n    this.tps = new jsTPS();\r\n\r\n    // CHECK TO SEE IF THERE IS DATA IN LOCAL STORAGE FOR THIS APP\r\n    let recentLists = localStorage.getItem(\"recentLists\");\r\n    console.log(\"recentLists: \" + recentLists);\r\n    if (!recentLists) {\r\n      recentLists = JSON.stringify(testData.toDoLists);\r\n      localStorage.setItem(\"toDoLists\", recentLists);\r\n    }\r\n    recentLists = JSON.parse(recentLists);\r\n\r\n    // FIND OUT WHAT THE HIGHEST ID NUMBERS ARE FOR LISTS\r\n    let highListId = -1;\r\n    let highListItemId = -1;\r\n    for (let i = 0; i < recentLists.length; i++) {\r\n      let toDoList = recentLists[i];\r\n      if (toDoList.id > highListId) {\r\n        highListId = toDoList.id;\r\n      }\r\n      for (let j = 0; j < toDoList.items.length; j++) {\r\n        let toDoListItem = toDoList.items[j];\r\n        if (toDoListItem.id > highListItemId)\r\n        highListItemId = toDoListItem.id;\r\n      }\r\n    };\r\n\r\n    // SETUP OUR APP STATE\r\n    this.state = {\r\n      toDoLists: recentLists,\r\n      currentList: {items: []},\r\n      nextListId: highListId+1,\r\n      nextListItemId: highListItemId+1,\r\n      useVerboseFeedback: true,\r\n      showModal: false,\r\n      clickedOn: \"\",\r\n      clickedId: -1\r\n    }\r\n  }\r\n\r\n  // WILL LOAD THE SELECTED LIST\r\n  loadToDoList = (toDoList) => {\r\n    console.log(\"CLICKED\")\r\n    console.log(\"loading \" + toDoList);\r\n\r\n    // MAKE SURE toDoList IS AT THE TOP OF THE STACK BY REMOVING THEN PREPENDING\r\n    const nextLists = this.state.toDoLists.filter(testList =>\r\n      testList.id !== toDoList.id\r\n    );\r\n    nextLists.unshift(toDoList);\r\n\r\n    this.setState({\r\n      toDoLists: nextLists,\r\n      currentList: toDoList\r\n      \r\n    });\r\n  }\r\n  /*\r\n  Creates three variables:\r\n  newToDoListInList is a a list with a new toDoList inside it.\r\n  newToDoListsList concatenates the list of list to the front of the current toDoLists.\r\n  newToDoList is the first list, which is the new one, just for currentList\r\n  */\r\n  addNewList = () => {\r\n    let newToDoListInList = [this.makeNewToDoList()];\r\n    let newToDoListsList = [...newToDoListInList, ...this.state.toDoLists];\r\n    let newToDoList = newToDoListInList[0];\r\n\r\n    // AND SET THE STATE, WHICH SHOULD FORCE A render\r\n    this.setState({\r\n      toDoLists: newToDoListsList,\r\n      currentList: newToDoList,\r\n      nextListId: this.state.nextListId+1\r\n    }, this.afterToDoListsChangeComplete);\r\n  }\r\n\r\n  makeNewToDoList = () => {\r\n    console.log(this.state.nextListId);\r\n    let newToDoList = {\r\n      id: this.state.nextListId,\r\n      name: 'Untitled',\r\n      items: []\r\n    };\r\n    console.log(newToDoList);\r\n    return newToDoList;\r\n  }\r\n\r\n  makeNewToDoListItem() {\r\n    console.log(\"ran?\");\r\n    console.log(this.highListItemId)\r\n    let newToDoListItem = {\r\n      description: \"No Description\",\r\n      dueDate: \"none\",\r\n      status: \"incomplete\",\r\n      id: this.state.nextListItemId\r\n    };\r\n    console.log(newToDoListItem);\r\n    return newToDoListItem;\r\n  }\r\n  addNewItemToList = () => {\r\n    console.log(\"ran??\");\r\n    let newItem = this.makeNewToDoListItem();\r\n    this.state.currentList.items.push(newItem);\r\n    this.setState({\r\n      currentList: this.state.currentList,\r\n      nextListItemId: this.state.nextListItemId+1\r\n    })\r\n    \r\n  }\r\n  deleteCurrentList = () => {\r\n    console.log(\"called\");\r\n    this.state.toDoLists.splice(0, 1);\r\n    this.setState({\r\n      toDoLists: this.state.toDoLists,\r\n      currentList: {items: []},\r\n      showModal: !this.state.showModal\r\n    })\r\n  }\r\n  moveItemUp = (id) => {\r\n    for (let i = 1; i < this.state.currentList.items.length; i++) {\r\n      if (id == this.state.currentList.items[i].id) {\r\n        let temp = this.state.currentList.items[i]\r\n        this.state.currentList.items[i] = this.state.currentList.items[i-1];\r\n        this.state.currentList.items[i-1] = temp;\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      currentList: this.state.currentList\r\n    })\r\n  }\r\n  moveItemDown = (id) => {\r\n    for (let i = this.state.currentList.items.length-2; i >= 0; i--) {\r\n      if (id == this.state.currentList.items[i].id) {\r\n        let temp = this.state.currentList.items[i]\r\n        this.state.currentList.items[i] = this.state.currentList.items[i+1];\r\n        this.state.currentList.items[i+1] = temp;\r\n        break;\r\n      }\r\n    }\r\n    this.setState({\r\n      currentList: this.state.currentList\r\n    })\r\n  }\r\n  deleteItem = (id) => {\r\n    let listFiltered = this.state.currentList.items.filter((item => item.id != id));\r\n    this.state.currentList.items = listFiltered;\r\n    this.setState({\r\n      currentList: this.state.currentList\r\n    })\r\n  }\r\n  swapToInput = (id, clickName) => {\r\n    console.log(\"Inputty\");\r\n    this.setState({\r\n      clickedOn: clickName,\r\n      clickedId: id\r\n    })\r\n  }\r\n  swapToDiv = (id, clickName) => {\r\n    this.setState({\r\n      clickedOn: clickName,\r\n      clickedId: id\r\n    })\r\n  }\r\n  swapToStatus = (id, clickName) => {\r\n    this.setState({\r\n      clickedOn: clickName,\r\n      clickedId: id\r\n    })\r\n  }\r\n  handleDescriptionChange = (value, id) => {\r\n    this.state.currentList.items.map((item) => ((item.id == id ? item.description = value : item.description = item.description)\r\n    ))\r\n  }\r\n  handleDueDateChange = (value, id) => {\r\n    this.state.currentList.items.map((item) => ((item.id == id ? item.due_date = value : item.due_date = item.due_date)\r\n    ))\r\n  }\r\n  handleStatusChange = (value, id) => {\r\n    this.state.currentList.items.map((item) => ((item.id == id ? item.status = value : item.status = item.status)\r\n    ))\r\n  }\r\n\r\n  // THIS IS A CALLBACK FUNCTION FOR AFTER AN EDIT TO A LIST\r\n  afterToDoListsChangeComplete = () => {\r\n    console.log(\"App updated currentToDoList: \" + this.state.currentList);\r\n\r\n    // WILL THIS WORK? @todo\r\n    let toDoListsString = JSON.stringify(this.state.toDoLists);\r\n    localStorage.setItem(\"recent_work\", toDoListsString);\r\n  }\r\n  toggleDeleteListConfirmation = () => {\r\n    console.log(this.state.currentList);\r\n    if (this.state.currentList.items.length != 0) {\r\n      this.setState({\r\n        showModal: !this.state.showModal\r\n      })\r\n    }\r\n  }\r\n  closeList = () => {\r\n    console.log(\"called\");\r\n    this.setState({\r\n      currentList: {items: []}\r\n    })\r\n  }\r\n  render() {\r\n    let items = this.state.currentList.items;\r\n    return (\r\n      <div id=\"root\">\r\n        <DeleteListConfirmation\r\n          showModal={this.state.showModal}\r\n          closeModal={this.state.showModal}\r\n          deleteCurrentList={this.deleteCurrentList}\r\n          toggleDeleteListConfirmation = {this.toggleDeleteListConfirmation}\r\n        />\r\n        <Navbar />\r\n        <LeftSidebar \r\n          toDoLists={this.state.toDoLists}\r\n          loadToDoListCallback={this.loadToDoList}\r\n          addNewListCallback={this.addNewList}\r\n          currentList={this.state.currentList}\r\n          swapToInput={this.swapToInput}\r\n          clickedOn={this.state.clickedOn}\r\n          clickedId={this.state.clickedId}\r\n        />\r\n        <Workspace \r\n          toDoListItems={items}\r\n          toggleDeleteListConfirmation = {this.toggleDeleteListConfirmation}\r\n          currentListActive={this.state.currentList.items.length > 0}\r\n          swapToInput={this.swapToInput}\r\n          swapToDiv={this.swapToDiv}\r\n          swapToStatus={this.swapToStatus}\r\n          clickedOn={this.state.clickedOn}\r\n          clickedId={this.state.clickedId}\r\n          handleDescriptionChange={this.handleDescriptionChange}\r\n          handleDueDateChange={this.handleDueDateChange}\r\n          handleStatusChange={this.handleStatusChange}\r\n          addNewItemToList={this.addNewItemToList}\r\n          moveItemUp={this.moveItemUp}\r\n          moveItemDown={this.moveItemDown}\r\n          deleteItem={this.deleteItem}\r\n          closeList={this.closeList}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}